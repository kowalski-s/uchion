import type { SubjectConfig, GradeConfig } from '../types.js'
import { getEducationLevel } from '../types.js'

const grade7: GradeConfig = {
  grade: 7,
  level: getEducationLevel(7),
  topics: [
    'Математические модели',
    'Линейная функция y = kx + b',
    'Решение систем линейных уравнений с двумя переменными',
    'Свойства степеней с натуральным показателем',
    'Одночлены. Сложение и вычитание, умножение и деление одночленов',
    'Многочлены. Арифметические действия с многочленами',
    'Разложение многочленов на множители. Способы разложения',
  ],
  constraints: {
    allowed: [
      'линейная функция',
      'график функции',
      'система уравнений',
      'метод подстановки',
      'метод сложения',
      'степень',
      'натуральный показатель',
      'одночлен',
      'многочлен',
      'разложение на множители',
      'вынесение за скобки',
      'группировка',
    ],
    softForbidden: [
      'квадратные уравнения',
      'дискриминант',
      'квадратичная функция',
      'алгебраические дроби',
      'иррациональные числа',
    ],
  },
  promptHint:
    'Седьмой класс алгебры: линейные функции и уравнения, степени с натуральным показателем, одночлены и многочлены.',
}

const grade8: GradeConfig = {
  grade: 8,
  level: getEducationLevel(8),
  topics: [
    'Алгебраические дроби. Арифметические операции над алгебраическими дробями',
    'Действительные числа',
    'Функция y = |x|. Функция квадратного корня y = √x',
    'Квадратные уравнения',
    'Квадратичная функция y = x²',
    'Квадратичная функция y = ax². Функция y = k/x',
    'Неравенства',
  ],
  constraints: {
    allowed: [
      'алгебраическая дробь',
      'сокращение дробей',
      'действительные числа',
      'иррациональные числа',
      'квадратный корень',
      'модуль',
      'квадратное уравнение',
      'дискриминант',
      'формула корней',
      'квадратичная функция',
      'парабола',
      'гипербола',
      'неравенство',
      'метод интервалов',
    ],
    softForbidden: [
      'системы неравенств',
      'арифметическая прогрессия',
      'геометрическая прогрессия',
      'тригонометрия',
    ],
  },
  promptHint:
    'Восьмой класс алгебры: квадратные уравнения и функции, алгебраические дроби, неравенства. Иррациональные числа.',
}

const grade9: GradeConfig = {
  grade: 9,
  level: getEducationLevel(9),
  topics: [
    'Неравенства и системы неравенств',
    'Системы уравнений. Равносильные преобразования',
    'Числовые функции. Свойства числовых функций',
    'Числовые последовательности. Прогрессии',
    'Элементы комбинаторики, статистики и теории вероятностей',
  ],
  constraints: {
    allowed: [
      'система неравенств',
      'двойное неравенство',
      'система уравнений',
      'равносильные преобразования',
      'область определения',
      'область значений',
      'четность функции',
      'нечетность функции',
      'монотонность',
      'арифметическая прогрессия',
      'геометрическая прогрессия',
      'сумма прогрессии',
      'комбинаторика',
      'перестановки',
      'сочетания',
      'вероятность',
    ],
    softForbidden: [
      'тригонометрические функции',
      'логарифмы',
      'производная',
      'интеграл',
    ],
  },
  promptHint:
    'Девятый класс алгебры: прогрессии, системы неравенств, свойства функций. Элементы комбинаторики и теории вероятностей.',
}

const grade10: GradeConfig = {
  grade: 10,
  level: getEducationLevel(10),
  topics: [
    'Действительные числа (натуральные, рациональные, иррациональные – повторение)',
    'Степени с рациональным показателем. Корни. Степенные функции',
    'Что мы знаем о числовых функциях',
    'Синус и косинус. Тангенс и котангенс. Свойства и графики тригонометрических функций',
    'Тригонометрические уравнения',
    'Формулы преобразования тригонометрических выражений',
    'Последовательности и прогрессии',
  ],
  constraints: {
    allowed: [
      'степень с рациональным показателем',
      'корень n-ой степени',
      'степенная функция',
      'синус',
      'косинус',
      'тангенс',
      'котангенс',
      'единичная окружность',
      'радианная мера',
      'тригонометрическое уравнение',
      'формулы приведения',
      'формулы двойного угла',
      'формулы суммы и разности',
    ],
    softForbidden: [
      'логарифмы',
      'производная',
      'интеграл',
      'предел функции',
    ],
  },
  promptHint:
    'Десятый класс алгебры: тригонометрия (функции, уравнения, формулы), степени с рациональным показателем.',
}

const grade11: GradeConfig = {
  grade: 11,
  level: getEducationLevel(11),
  topics: [
    'Логарифмы. Показательная и логарифмическая функции',
    'Графики тригонометрических функций',
    'Производная. Применение производной для исследования функций',
    'Первообразная. Неопределенные и определенные интегралы',
    'Начальные сведения комбинаторики',
    'Начальные сведения теории вероятностей',
    'Начальные сведения математической статистики',
    'Уравнения и неравенства (равносильность уравнений, теоремы о равносильности)',
    'Общие методы решения уравнений',
    'Равносильность неравенств. Системы и совокупности неравенств',
    'Уравнения и неравенства с двумя переменными',
    'Общие методы решения систем уравнений',
    'Уравнения и неравенства с параметром',
  ],
  constraints: {
    allowed: [
      'логарифм',
      'показательная функция',
      'логарифмическая функция',
      'производная',
      'правила дифференцирования',
      'экстремум',
      'касательная',
      'первообразная',
      'интеграл',
      'площадь под графиком',
      'уравнения с параметром',
      'неравенства с параметром',
      'математическая статистика',
      'среднее',
      'дисперсия',
    ],
    softForbidden: [],
  },
  promptHint:
    'Одиннадцатый класс алгебры: логарифмы, производная и интегралы, уравнения с параметром. Подготовка к ЕГЭ.',
}

export const algebraConfig: SubjectConfig = {
  id: 'algebra',
  name: 'Алгебра',
  gradeRange: { from: 7, to: 11 },
  grades: {
    7: grade7,
    8: grade8,
    9: grade9,
    10: grade10,
    11: grade11,
  },
  systemPrompt: `Особенности:
- Строгая математическая запись
- Уравнения и выражения записывать корректно
- Ответы могут быть числами, выражениями или множествами
- Использовать стандартные обозначения (x, y, a, b)`,
}
