import type { DifficultyLevel } from '../../types.js'

// =============================================================================
// Geometry prompts (7-11 класс)
// =============================================================================

const GEOMETRY_PROMPTS: Record<number, Record<DifficultyLevel, string>> = {
  7: {
    easy: `Уровень: БАЗОВЫЙ (7 класс)
Требования:
- Углы: нахождение смежных/вертикальных + объяснение, ПОЧЕМУ углы связаны (свойство смежных, свойство вертикальных)
- Признаки равенства треугольников: определение применимого признака + обоснование (какие элементы даны и какой признак подходит)
- Свойства равнобедренного треугольника: нахождение углов + объяснение, почему углы при основании равны
- Каждое задание требует обоснования: "найди И объясни почему", "определи И назови признак"

Примеры заданий:
- "Один из смежных углов равен 70°. Найди второй угол и вертикальный к нему. Объясни, какими свойствами ты воспользовался" (нахождение + обоснование двух свойств)
- "В треугольниках ABC и DEF: AB = DE, BC = EF, ∠B = ∠E. Равны ли треугольники? По какому признаку? Следует ли из этого, что AC = DF?" (признак + обоснование + вывод)
- "В равнобедренном треугольнике угол при вершине 40°. Найди углы при основании. Объясни, почему они равны. Что изменится, если угол при вершине будет 90°?" (нахождение + объяснение свойства + анализ частного случая)`,

    medium: `Уровень: СРЕДНИЙ (7 класс)
Требования:
- Задачи на доказательство равенства треугольников, комбинирующие несколько признаков
- Медиана, биссектриса, высота — задачи с вычислением + доказательством
- Параллельные прямые и секущая + свойства треугольников
- Часть заданий должна комбинировать: углы (смежные/вертикальные) + признаки равенства + параллельные прямые

Примеры заданий:
- "Докажи, что медиана равнобедренного треугольника к основанию является и высотой" (свойства + доказательство)
- "Две параллельные прямые пересечены секущей. Один угол 65°. Найди все 8 углов и объясни, какие свойства использовал" (параллельные + смежные/вертикальные)
- "В треугольнике ABC проведена высота BH. Угол A = 50°, угол C = 70°. Найди углы треугольников ABH и BCH" (сумма углов + свойства высоты)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (7 класс)
Требования:
- Задачи на построение, требующие нескольких признаков равенства одновременно
- Комбинирование: признаки равенства + параллельные прямые + свойства равнобедренного треугольника + медиана/биссектриса/высота
- Нестандартные конфигурации, где нужно увидеть вспомогательные треугольники
- Задания ОБЯЗАНЫ синтезировать несколько тем 7 класса в одной задаче

Примеры заданий:
- "В треугольнике ABC биссектриса AD делит сторону BC. Через D проведена прямая, параллельная AB. Докажи, что получившийся треугольник равнобедренный" (биссектриса + параллельные + равнобедренный)
- "На сторонах угла от вершины отложены равные отрезки. Докажи, что любая точка биссектрисы равноудалена от концов этих отрезков" (биссектриса + признаки равенства)
- "Через точку пересечения медиан треугольника проведена прямая, параллельная основанию. Найди отрезки, на которые она делится сторонами" (медианы + параллельные + подобие)`,
  },

  8: {
    easy: `Уровень: БАЗОВЫЙ (8 класс)
Требования:
- Свойства четырёхугольников: нахождение элементов + объяснение, какое свойство используется и почему оно работает
- Теорема Пифагора: применение + проверка (подстановка в a² + b² = c²), определение вида треугольника по сторонам
- Площадь: вычисление + объяснение формулы (почему S = ½ah для треугольника), сравнение площадей фигур
- Каждое задание: "найди + проверь" или "вычисли + объясни формулу" или "определи + обоснуй"

Примеры заданий:
- "В прямоугольнике одна сторона 6 см, диагональ 10 см. Найди вторую сторону. Проверь по теореме Пифагора. Могут ли стороны прямоугольника быть больше диагонали? Почему?" (Пифагор + проверка + анализ)
- "Катеты прямоугольного треугольника 5 и 12. Найди гипотенузу. Определи: является ли треугольник со сторонами 5, 12, 14 прямоугольным? Как проверить?" (Пифагор + обратная теорема + проверка)
- "Найди площадь треугольника с основанием 8 и высотой 5. Объясни: если основание увеличить вдвое, а высоту уменьшить вдвое, изменится ли площадь? Почему?" (площадь + анализ зависимости)`,

    medium: `Уровень: СРЕДНИЙ (8 класс)
Требования:
- Площади четырёхугольников, комбинирование с теоремой Пифагора
- Подобие треугольников + вычисление элементов через признаки равенства (7кл)
- Средняя линия трапеции + площадь трапеции в одной задаче
- Часть заданий должна требовать: найти элемент через Пифагора → вычислить площадь → применить свойство

Примеры заданий:
- "В прямоугольной трапеции основания 6 и 10, боковая сторона 5. Найди площадь" (Пифагор + площадь трапеции)
- "Отношение сторон подобных треугольников 2:3. Площадь меньшего 12. Найди площадь большего и отношение периметров" (подобие + площадь)
- "В параллелограмме стороны 5 и 8, высота к большей стороне 4. Найди площадь и вторую высоту" (площадь + свойства параллелограмма)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (8 класс)
Требования:
- Комбинированные задачи: площади + теорема Пифагора + подобие + свойства четырёхугольников (7кл: признаки равенства)
- Вписанные/описанные четырёхугольники + вычисление площадей и элементов
- Задачи, где нужно: установить подобие → найти стороны → вычислить площадь → применить теорему
- Задания ОБЯЗАНЫ синтезировать: площади + Пифагор + подобие + свойства из 7кл (равенство треугольников, параллельные прямые)

Примеры заданий:
- "Диагонали ромба 6 и 8. Найди сторону (через Пифагора), площадь (через диагонали) и радиус вписанной окружности" (ромб + Пифагор + площадь + вписанная)
- "В трапеции ABCD диагонали пересекаются в O. S(AOB)=8. Докажи подобие △AOB и △COD, найди отношение сторон, если BC/AD=1/2, и вычисли S(трапеции)" (подобие + площади + свойства)
- "В параллелограмме ABCD точка M — середина BC. AM пересекает BD в точке K. Найди AK:KM и BK:KD" (параллельные + подобие + медиана из 7кл)`,
  },

  9: {
    easy: `Уровень: БАЗОВЫЙ (9 класс, уровень ОГЭ часть 1)
Требования:
- Тригонометрия прямоугольного треугольника: нахождение sin/cos/tg + связь между ними (sin²α + cos²α = 1), проверка результата
- Длина окружности, площадь круга: вычисление + объяснение связи формул (обе через π и r), сравнение окружности и круга
- Векторы: сложение + геометрический смысл (правило параллелограмма/треугольника), связь координат вектора с точками
- Задания требуют понимания связей между понятиями, а не изолированного применения формул

Примеры заданий:
- "В прямоугольном треугольнике катет 3, гипотенуза 5. Найди sin и cos острого угла. Проверь: sin²α + cos²α = 1. Найди второй катет (через Пифагора из 8кл)" (тригонометрия + проверка + связь с Пифагором)
- "Найди длину окружности и площадь круга с радиусом 7. Как изменятся оба значения, если радиус удвоить? Во сколько раз?" (вычисление + анализ зависимости от радиуса)
- "Найди сумму векторов a(2, 3) и b(-1, 4). Чему равна длина каждого вектора и вектора суммы? Верно ли, что |a + b| = |a| + |b|?" (сложение + длина + анализ неравенства треугольника)`,

    medium: `Уровень: СРЕДНИЙ (9 класс)
Требования:
- Теоремы синусов и косинусов, комбинирование с площадями (8кл) и теоремой Пифагора (8кл)
- Вписанная и описанная окружности + вычисление площадей/периметров
- Скалярное произведение векторов + применение к нахождению углов и длин
- Часть заданий должна использовать: тригонометрия → нахождение сторон → площадь (8кл)

Примеры заданий:
- "В треугольнике стороны 5 и 8, угол между ними 60°. Найди третью сторону и площадь" (теорема косинусов + формула площади)
- "В прямоугольном треугольнике с катетами 6 и 8 найди радиусы вписанной и описанной окружностей" (Пифагор 8кл + вписанная/описанная)
- "Даны точки A(1,1), B(4,5), C(7,1). Найди угол B через скалярное произведение и площадь треугольника" (векторы + площадь)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (9 класс)
Требования:
- Комбинированные задачи: окружности + площади (8кл) + подобие (8кл) + тригонометрия
- Задачи ОГЭ части 2, синтезирующие весь курс 7-9 классов
- Задачи с координатным/векторным методом + классическая геометрия
- Задания ОБЯЗАНЫ синтезировать: теоремы синусов/косинусов + площади (8кл) + подобие (8кл) + признаки равенства (7кл) + окружности

Примеры заданий:
- "В △ABC вписана окружность r=2, периметр=20. Найди площадь. Если AB=6, AC=8, найди BC и все три отрезка касательных" (вписанная + площадь + система уравнений)
- "В трапеции ABCD (AD‖BC) проведены диагонали. S(AOB)=4, S(BOC)=9. Найди S(трапеции) через подобие треугольников AOB и COD" (подобие 8кл + площади 8кл + свойства трапеции)
- "Докажи векторами, что медианы треугольника пересекаются в одной точке и делятся ею в отношении 2:1" (векторы + медианы 7кл + доказательство)`,
  },

  10: {
    easy: `Уровень: БАЗОВЫЙ (10 класс, уровень ЕГЭ часть 1 базовый)
Требования:
- Параллельность в пространстве: определение взаимного расположения + обоснование по признакам, анализ верности утверждений
- Углы между прямыми в пространстве: нахождение + объяснение, через какие планиметрические фигуры (из 7-9кл) выполнены вычисления
- Элементы многогранников: подсчёт элементов + объяснение связей (формула Эйлера), сравнение свойств разных многогранников
- Задания комбинируют стереометрию с планиметрией 7-9кл и требуют обоснования

Примеры заданий:
- "Прямая параллельна плоскости. Верно ли, что она параллельна любой прямой в этой плоскости? Обоснуй ответ и приведи контрпример, если утверждение ложно" (анализ утверждения + обоснование + контрпример)
- "Найди угол между диагоналями двух смежных граней куба с ребром 1. Какую планиметрическую фигуру ты рассматриваешь? Какую теорему применяешь?" (нахождение + объяснение метода + связь с планиметрией 8кл)
- "У пятиугольной призмы найди число рёбер, граней и вершин. Проверь по формуле Эйлера. Как изменятся числа для шестиугольной призмы?" (подсчёт + проверка формулой + обобщение)`,

    medium: `Уровень: СРЕДНИЙ (10 класс)
Требования:
- Перпендикулярность прямой и плоскости + нахождение углов/расстояний через теорему Пифагора (8кл)
- Теорема о трёх перпендикулярах + вычисление площадей граней (8кл)
- Площадь поверхности призмы/пирамиды, комбинирование с тригонометрией (9кл)
- Часть заданий должна использовать планиметрию 7-9кл в пространственных фигурах

Примеры заданий:
- "В правильной 4-угольной пирамиде сторона основания 6, апофема 5. Найди высоту пирамиды и площадь полной поверхности" (Пифагор 8кл + площади 8кл)
- "В кубе с ребром 1 найди расстояние от вершины до диагонали противоположной грани" (перпендикулярность + теорема о трёх перпендикулярах + Пифагор)
- "Боковое ребро правильной треугольной призмы 10, сторона основания 6. Найди площадь диагонального сечения" (планиметрия основания 7-8кл + Пифагор)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (10 класс)
Требования:
- Угол между плоскостями + тригонометрия (9кл) + теорема Пифагора (8кл)
- Сечения многогранников + вычисление площади сечения через подобие (8кл) и площади (8кл)
- Комбинированные задачи, синтезирующие стереометрию с ВСЕЙ планиметрией 7-9кл
- Задания ОБЯЗАНЫ использовать: теорему о трёх перпендикулярах + площади (8кл) + тригонометрию (9кл) + подобие (8кл)

Примеры заданий:
- "В правильной треугольной пирамиде сторона основания 6, боковое ребро 5. Найди угол между боковой гранью и основанием, высоту и объём" (трёх перпендикуляров + тригонометрия 9кл + площадь равностороннего 7кл)
- "Построй сечение куба через середины трёх рёбер из одной вершины. Определи форму сечения и найди его площадь" (сечение + Пифагор + площадь 8кл)
- "В правильной 4-угольной пирамиде высота 3, сторона основания 8. Найди расстояние от центра основания до бокового ребра" (Пифагор + площадь треугольника 8кл + формула расстояния)`,
  },

  11: {
    easy: `Уровень: БАЗОВЫЙ (11 класс, уровень ЕГЭ часть 1 базовый)
Требования:
- Объёмы: вычисление + объяснение формулы (почему V = Sh для призмы, V = ⅓Sh для пирамиды), сравнение объёмов разных тел
- Тела вращения: объём и площадь поверхности + объяснение связи формул (через π, r, h), анализ как меняются при изменении параметров
- Координаты в пространстве: расстояние между точками + связь с теоремой Пифагора (8кл), определение вида фигуры по координатам вершин
- Задания требуют понимания формул и связей, а не только подстановки чисел

Примеры заданий:
- "Найди объём куба с ребром 4 и объём пирамиды с таким же основанием и высотой. Во сколько раз объём пирамиды меньше? Почему в формуле пирамиды коэффициент ⅓?" (два объёма + сравнение + анализ формулы)
- "Найди объём и полную площадь поверхности цилиндра (r = 3, h = 5). Как изменится объём, если радиус удвоить? А если удвоить высоту? Что влияет сильнее?" (вычисление + анализ зависимости)
- "Найди расстояние между A(1, 2, 3) и B(4, 6, 3). Объясни, почему формула расстояния — это обобщение теоремы Пифагора на 3D. Найди середину отрезка AB" (расстояние + связь с Пифагором 8кл + середина)`,

    medium: `Уровень: СРЕДНИЙ (11 класс)
Требования:
- Комбинации тел (вписанные, описанные) + вычисление через Пифагора (8кл) и тригонометрию (9кл)
- Уравнение плоскости + расстояние от точки до плоскости + координаты вершин многогранников (10кл)
- Объёмы + площади поверхности в одной задаче
- Часть заданий должна комбинировать: объём тела → площадь поверхности → подобие (8кл)

Примеры заданий:
- "В куб с ребром a вписан шар. Найди отношение их объёмов и отношение площадей поверхностей" (шар + куб + площади)
- "В правильной 4-угольной пирамиде сторона основания 6, высота 4. Найди объём и расстояние от центра основания до бокового ребра" (объём + Пифагор + площадь 8кл)
- "Конус с R=3, h=4 вписан в цилиндр. Найди отношение их объёмов и полных поверхностей" (два тела + сравнение)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (11 класс)
Требования:
- Задачи ЕГЭ профильного уровня (№ 13), синтезирующие стереометрию 10-11кл + всю планиметрию 7-9кл
- Сечения тел вращения + вычисление площадей сечений через подобие (8кл) и тригонометрию (9кл)
- Задачи на оптимизацию (связь с алгеброй: производная 11кл или неравенство)
- Задания ОБЯЗАНЫ синтезировать: объёмы/площади + Пифагор (8кл) + подобие (8кл) + тригонометрия (9кл) + теорема о трёх перпендикулярах (10кл)

Примеры заданий:
- "В конус с R=6, h=8 вписан шар. Найди его радиус, используя подобие осевого сечения" (конус + шар + подобие 8кл + Пифагор 8кл)
- "В шар R вписан конус наибольшего объёма. Вырази объём через R и найди отношение V(конус)/V(шар)" (оптимизация + объёмы + производная из алгебры 11кл)
- "Через две образующие конуса, угол между которыми 60°, проведено сечение. R=5, h=12. Найди площадь сечения" (сечение + тригонометрия 9кл + Пифагор 8кл + площадь треугольника)`,
  },
}

export function getGeometryDifficultyPrompt(grade: number, level: DifficultyLevel): string {
  const gradePrompts = GEOMETRY_PROMPTS[grade]
  if (!gradePrompts) {
    return ''
  }
  return gradePrompts[level] ?? ''
}
