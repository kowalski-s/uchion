import type { DifficultyLevel } from '../../types.js'

// =============================================================================
// Math prompts (1-6 класс)
// =============================================================================

const MATH_PROMPTS: Record<number, Record<DifficultyLevel, string>> = {
  1: {
    easy: `Уровень: БАЗОВЫЙ (1 класс)
Требования:
- Сложение и вычитание в пределах 10
- Счёт предметов
- Сравнение чисел (больше/меньше)
- Один шаг решения

Примеры заданий:
- "Сколько будет 3 + 4?"
- "Какое число больше: 5 или 8?"
- "На ветке сидели 6 птиц. 2 улетели. Сколько осталось?"`,

    medium: `Уровень: СРЕДНИЙ (1 класс)
Требования:
- Сложение и вычитание в пределах 20
- Задачи в одно действие с простым условием
- Сравнение выражений
- Часть заданий должна комбинировать счёт предметов с простым сложением/вычитанием

Примеры заданий:
- "Вычисли: 12 + 5"
- "У Маши 8 конфет, у Пети на 3 больше. Сколько конфет у Пети?" (сравнение + сложение)
- "Сравни: 9 + 2 ... 15 - 4" (сравнение + вычисления)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (1 класс)
Требования:
- Задачи в два действия, комбинирующие сложение И вычитание в одной задаче
- Нахождение неизвестного компонента (обратные операции к сложению и вычитанию)
- Логические задачи на рассуждение, комбинирующие сравнение чисел + счёт
- Задания должны сочетать несколько навыков: например, текстовая задача где нужно И сложить, И вычесть, И сравнить

Примеры заданий:
- "У Вани было 10 яблок. Он отдал 3 и получил ещё 5. Сколько стало?" (сложение + вычитание в 2 действия)
- "Какое число нужно прибавить к 7, чтобы получить 15?" (обратная операция)
- "Катя старше Маши на 2 года, но младше Оли на 3 года. Оле 10 лет. Сколько лет Маше?" (логика + вычитание + сложение)`,
  },

  2: {
    easy: `Уровень: БАЗОВЫЙ (2 класс)
Требования:
- Сложение и вычитание в пределах 100 (без перехода через десяток)
- Табличное умножение на 2, 3
- Простые задачи в одно действие

Примеры заданий:
- "Вычисли: 34 + 25"
- "Сколько будет 3 × 4?"
- "В классе 12 мальчиков и 14 девочек. Сколько всего учеников?"`,

    medium: `Уровень: СРЕДНИЙ (2 класс)
Требования:
- Сложение и вычитание с переходом через десяток
- Табличное умножение и деление (2-5)
- Задачи в 1-2 действия, комбинирующие разные арифметические операции
- Часть заданий должна требовать и сложение/вычитание (1кл), и умножение в одной задаче

Примеры заданий:
- "Вычисли: 48 + 37"
- "Купили 3 пачки печенья по 8 штук и ещё 5 штук отдельно. Сколько всего печенья?" (умножение + сложение)
- "В каждой из 4 коробок по 6 карандашей. Раздали 10 карандашей. Сколько осталось?" (умножение + вычитание)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (2 класс)
Требования:
- Задачи в 2-3 действия, обязательно комбинирующие умножение/деление с +/- из 1 класса
- Нахождение неизвестного множителя/делителя
- Логические задачи, закономерности, комбинирующие несколько навыков
- Задания должны сочетать: порядок действий + разные операции + сравнение

Примеры заданий:
- "В двух коробках 24 карандаша. В первой на 4 больше, чем во второй. Сколько в каждой?" (подбор + сложение + проверка)
- "Купили 5 тетрадей по 4 рубля и 3 ручки. За всё заплатили 35 рублей. Сколько стоит ручка?" (умножение + вычитание + деление)
- "Продолжи ряд: 2, 4, 7, 11, 16, ..." (закономерность + сложение)`,
  },

  3: {
    easy: `Уровень: БАЗОВЫЙ (3 класс)
Требования:
- Табличное умножение и деление (вся таблица)
- Внетабличное умножение и деление круглых чисел
- Простые задачи на умножение/деление

Примеры заданий:
- "Вычисли: 7 × 8"
- "Найди: 60 : 3"
- "В 5 одинаковых коробках 45 конфет. Сколько конфет в одной коробке?"`,

    medium: `Уровень: СРЕДНИЙ (3 класс)
Требования:
- Внетабличное умножение и деление
- Порядок действий (2-3 действия), комбинирующие все 4 арифметические операции
- Задачи на приведение к единице, где нужно и умножать, и складывать/вычитать
- Часть заданий должна использовать табличное умножение (2кл) в составе более сложных выражений

Примеры заданий:
- "Найди значение: 36 + 48 : 6" (порядок действий + деление + сложение)
- "За 4 тетради заплатили 52 рубля. Сколько стоят 7 таких тетрадей?" (деление + умножение)
- "В магазине купили 3 кг яблок по 84 рубля за кг и заплатили 500 рублей. Сколько сдачи получили?" (умножение + вычитание)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (3 класс)
Требования:
- Деление с остатком, комбинирование с табличным умножением и порядком действий
- Задачи в 3-4 действия, обязательно использующие навыки 1-2 классов (все 4 операции, сравнение, порядок действий)
- Нестандартные задачи, где нужно комбинировать: умножение/деление + сложение/вычитание + логику
- Задания с подвохом на порядок действий, со скобками

Примеры заданий:
- "При делении числа на 7 получили частное 5 и остаток 3. Какое это число?" (деление с остатком + умножение + сложение)
- "Туристы прошли за 3 дня 54 км. В первый день прошли 20 км, во второй — на 4 км меньше. Сколько прошли в третий?" (вычитание + сложение + вычитание)
- "Расставь скобки, чтобы равенство стало верным: 8 + 12 : 4 - 2 = 3" (порядок действий + все операции)`,
  },

  4: {
    easy: `Уровень: БАЗОВЫЙ (4 класс)
Требования:
- Умножение и деление многозначных чисел на однозначное
- Нахождение периметра и площади прямоугольника
- Единицы измерения (длина, масса, время)

Примеры заданий:
- "Вычисли: 234 × 3"
- "Найди периметр прямоугольника со сторонами 8 см и 5 см"
- "Вырази в минутах: 2 ч 15 мин"`,

    medium: `Уровень: СРЕДНИЙ (4 класс)
Требования:
- Умножение и деление на двузначное число
- Составные задачи на движение, работу, комбинирующие с единицами измерения и периметром/площадью
- Дроби (сравнение, сложение с одинаковым знаменателем)
- Часть заданий должна требовать перевод единиц измерения (3кл) + вычисления в несколько шагов

Примеры заданий:
- "Вычисли: 1428 : 28"
- "Автомобиль проехал 240 км за 4 часа. Сколько времени ему понадобится, чтобы проехать 360 км с той же скоростью?" (скорость + деление + умножение)
- "Периметр прямоугольника 48 см. Длина на 4 см больше ширины. Найди площадь" (периметр + площадь + подбор)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (4 класс)
Требования:
- Задачи на встречное/противоположное движение, комбинирующие с единицами времени и длины (3кл)
- Задачи на совместную работу, где нужны дроби + деление + умножение
- Нестандартные задачи, олимпиадного типа, синтезирующие: площадь/периметр + движение, дроби + все 4 операции
- Задания ОБЯЗАНЫ комбинировать материал 1-4 классов: все операции + единицы измерения + дроби + геометрические величины

Примеры заданий:
- "Два поезда вышли навстречу из городов на расстоянии 420 км. Скорости 60 и 80 км/ч. Через сколько часов они встретятся? На каком расстоянии от первого города?" (движение + все операции)
- "Садовый участок имеет форму прямоугольника 30м × 20м. Дорожка шириной 1м проходит по периметру внутри. Найди площадь дорожки" (площадь + периметр + вычитание площадей)
- "Один мастер делает деталь за 6 минут, другой за 4 минуты. Сколько деталей они сделают вместе за 1 час?" (работа + дроби + перевод единиц)`,
  },

  5: {
    easy: `Уровень: БАЗОВЫЙ (5 класс)
Требования:
- Натуральные числа: действия с ними + проверка результата обратным действием или прикидкой
- Обыкновенные дроби: сравнение с обоснованием (через приведение к общему знаменателю или к десятичным), классификация дробей (правильные/неправильные)
- Десятичные дроби: запись, сравнение, взаимный перевод с обыкновенными — с объяснением способа
- Каждое задание требует НЕ просто вычисления, а сравнения, проверки или обоснования

Примеры заданий:
- "Вычисли 3456 + 2789 и проверь результат вычитанием. Оцени без вычислений: результат ближе к 6000 или к 7000?" (вычисление + проверка + прикидка)
- "Сравни дроби 3/5 и 4/7. Объясни способ сравнения. Какая из них ближе к 1?" (сравнение + обоснование + оценка)
- "Запиши 3/10 и 7/4 в виде десятичных дробей. Какая из них правильная, какая неправильная? Объясни" (перевод + классификация + объяснение)`,

    medium: `Уровень: СРЕДНИЙ (5 класс)
Требования:
- Сложение и вычитание дробей с разными знаменателями
- Действия с десятичными дробями
- Уравнения (нахождение неизвестного), комбинирующие дроби с навыками 4 класса (задачи на движение, площадь)
- Часть заданий должна сочетать обыкновенные и десятичные дроби, или дроби + уравнения

Примеры заданий:
- "Вычисли: 2/3 + 1/4 и запиши результат в виде десятичной дроби" (обыкновенные + десятичные дроби)
- "Скорость велосипедиста 12,5 км/ч. За какое время он проедет 37,5 км?" (десятичные дроби + задача на движение из 4кл)
- "Реши уравнение: x + 3,5 = 8,2. Проверь ответ подстановкой"`,

    hard: `Уровень: ПОВЫШЕННЫЙ (5 класс)
Требования:
- Сложные задачи на дроби (нахождение части от числа и числа по его части) с использованием всех 4 операций (1-4кл)
- Комбинирование обыкновенных и десятичных дробей + проценты + уравнения
- Задачи, где нужно: перевести дробь + выполнить действия + решить задачу на движение/площадь из 4 класса
- Задания ОБЯЗАНЫ синтезировать: дроби + задачи на движение/работу (4кл) + единицы измерения (3-4кл)

Примеры заданий:
- "Турист прошёл 2/5 пути в первый день и 0,25 всего пути во второй. Осталось 14 км. Найди весь путь и расстояние каждого дня" (обыкновенная + десятичная дробь + 3 шага)
- "В бочке было несколько литров воды. Отлили 40% воды, потом 1/3 остатка. Осталось 12 л. Сколько было?" (проценты + дроби + обратный ход)
- "Площадь прямоугольника 7,5 м². Длина 3 3/4 м. Найди периметр" (десятичные + обыкновенные дроби + площадь/периметр из 4кл)`,
  },

  6: {
    easy: `Уровень: БАЗОВЫЙ (6 класс)
Требования:
- Действия с положительными и отрицательными числами: вычисление + объяснение правила знаков, сравнение выражений с разными знаками
- Пропорции: нахождение неизвестного + проверка пропорции (произведение крайних = произведению средних)
- Координатная плоскость: определение координат + определение четверти + объяснение знаков координат
- Каждое задание требует сравнения, классификации или проверки, а НЕ только вычисления

Примеры заданий:
- "Вычисли: -8 + 15 и 15 + (-8). Объясни, почему результаты одинаковые. Какое правило сложения чисел с разными знаками ты применил?" (вычисление + обоснование правила)
- "Найди x: 3/5 = x/20. Проверь ответ подстановкой. Объясни, как связаны крайние и средние члены пропорции" (нахождение + проверка + объяснение свойства)
- "Точка A(3, -2). В какой четверти она находится? Какие знаки координат у точек в каждой четверти? Назови точку, симметричную A относительно оси Ox" (координаты + классификация + симметрия)`,

    medium: `Уровень: СРЕДНИЙ (6 класс)
Требования:
- Проценты (нахождение процента от числа, числа по проценту), комбинирование с дробями из 5 класса
- Пропорции в задачах, связанные с движением/работой (4кл)
- Действия с рациональными числами, включающие и обыкновенные, и десятичные дроби (5кл)
- Часть заданий должна сочетать отрицательные числа + дроби + проценты

Примеры заданий:
- "Турист прошёл 35% от 240 км. Сколько ему осталось, если скорость 4,5 км/ч?" (проценты + десятичные дроби + задача на движение)
- "Для варенья взяли ягоды и сахар в отношении 2:3. Сколько нужно сахара на 4 кг ягод?" (пропорции)
- "Вычисли: (-2/3) × 1,5 + 1/2 и запиши результат в виде обыкновенной дроби" (рациональные числа + обыкновенные/десятичные)`,

    hard: `Уровень: ПОВЫШЕННЫЙ (6 класс)
Требования:
- Сложные задачи на проценты (сложные проценты, изменение на проценты), комбинирующие с дробями (5кл) и пропорциями
- Задачи на отношения и пропорции в несколько действий + задачи на движение/работу (4кл)
- Олимпиадные задачи, синтезирующие: рациональные числа + проценты + дроби + делимость
- Задания ОБЯЗАНЫ комбинировать темы 4-6 классов: проценты + дроби + пропорции + отрицательные числа + задачи на движение/площадь

Примеры заданий:
- "Цена товара выросла на 20%, потом снизилась на 20%. На сколько процентов изменилась цена? Если начальная цена была 1500 руб., сколько составила разница?" (проценты + вычисления с десятичными)
- "Два велосипедиста выехали навстречу. Первый проехал 2/5 пути, второй — 35% пути. Осталось 12 км. Найди расстояние" (дроби + проценты + движение из 4кл)
- "Трое друзей набрали 40 баллов. Первый — на 4 больше второго, второй — в 2 раза больше третьего. Какой процент от общего числа набрал каждый?" (подбор + проценты + дроби)`,
  },
}

export function getMathDifficultyPrompt(grade: number, level: DifficultyLevel): string {
  const prompts = MATH_PROMPTS[grade]
  if (!prompts) return ''
  return prompts[level]
}
