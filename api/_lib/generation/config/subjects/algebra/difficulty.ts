import type { DifficultyLevel } from '../../types.js'

// =============================================================================
// Algebra prompts (7-11 класс)
// =============================================================================

const ALGEBRA_7: Record<DifficultyLevel, string> = {
  easy: `Уровень: БАЗОВЫЙ (7 класс)
Требования:
- Линейные уравнения: решение + проверка подстановкой, объяснение каждого шага преобразования
- Раскрытие скобок, приведение подобных: упрощение + объяснение, какие слагаемые подобные и почему
- Степень с натуральным показателем: вычисление + обоснование правила (умножение/деление степеней)
- Каждое задание требует НЕ только вычисления, а проверки результата и объяснения применённого правила

Примеры заданий:
- "Реши уравнение 2x + 5 = 11 и проверь решение подстановкой. Объясни, какое свойство равенства ты использовал на каждом шаге" (решение + проверка + обоснование)
- "Упрости 3(a + 2) - (a - 1) двумя способами: раскрыв скобки и подставив a = 3 в исходное и упрощённое. Совпали ли результаты?" (упрощение + проверка подстановкой)
- "Вычисли 2\u00B3 \u00D7 2\u2074. Объясни, почему 2\u00B3 \u00D7 2\u2074 = 2\u2077, а не 2\u00B9\u00B2. Какое правило действий со степенями ты применил?" (вычисление + объяснение правила + разбор типичной ошибки)`,

  medium: `Уровень: СРЕДНИЙ (7 класс)
Требования:
- Системы линейных уравнений (подстановка, сложение)
- Линейная функция, её график
- Формулы сокращённого умножения

Примеры заданий:
- "Реши систему: x + y = 7, 2x - y = 5"
- "Построй график функции y = 2x - 3"
- "Разложи на множители: a\u00B2 - 9"`,

  hard: `Уровень: ПОВЫШЕННЫЙ (7 класс)
Требования:
- Задачи на составление уравнений/систем с комбинацией нескольких навыков
- Нестандартные задачи с формулами сокращённого умножения
- Исследование линейной функции, комбинирование со степенями и многочленами
- Задания ОБЯЗАНЫ синтезировать несколько тем: системы уравнений + многочлены, степени + линейные функции и т.д.

Примеры заданий:
- "Двое рабочих изготовили вместе 72 детали. Первый работал 4 часа, второй 6 часов. Первый изготавливает в час на 2 детали больше. Сколько деталей делает каждый за час?" (система уравнений + текстовая задача)
- "Упрости (a + b)\u00B2 - (a - b)\u00B2 и найди значение при a = 2\u00B3, b = 3\u00B2" (формулы сокращённого умножения + степени)
- "При каком значении k графики y = kx + 3 и y = 2x - 1 пересекаются в точке с ординатой 5?" (линейная функция + система)`,
}

const ALGEBRA_8: Record<DifficultyLevel, string> = {
  easy: `Уровень: БАЗОВЫЙ (8 класс)
Требования:
- Квадратные уравнения: решение по формуле + проверка обоих корней подстановкой + анализ дискриминанта (что означает D > 0, D = 0, D < 0)
- Свойства квадратного корня: упрощение + объяснение, какое свойство использовано (вынесение множителя из-под корня)
- Квадратичная функция: нахождение вершины + определение направления ветвей с обоснованием (знак коэффициента a)
- Каждое задание требует решения И анализа: "реши и объясни", "вычисли и проверь", "найди и определи"

Примеры заданий:
- "Реши уравнение x\u00B2 - 5x + 6 = 0. Проверь оба корня подстановкой. Что означает знак дискриминанта для количества корней?" (решение + проверка + анализ дискриминанта)
- "Упрости \u221A50 - \u221A8. Объясни, как ты вынес множитель из-под корня. Какое свойство корня использовано?" (упрощение + объяснение правила)
- "Найди вершину параболы y = x\u00B2 - 4x + 3. Куда направлены ветви и почему? Какое наименьшее значение принимает функция?" (вершина + направление + анализ экстремума)`,

  medium: `Уровень: СРЕДНИЙ (8 класс)
Требования:
- Теорема Виета, разложение на множители (с использованием формул 7кл)
- Квадратные неравенства
- Дробно-рациональные уравнения
- Часть заданий должна требовать предварительных алгебраических преобразований (вынесение за скобки, раскрытие скобок из 7кл)

Примеры заданий:
- "Не решая уравнение x\u00B2 - 7x + 12 = 0, найди сумму и произведение корней. Составь уравнение с корнями, в 2 раза большими" (Виета + составление уравнения)
- "Реши неравенство: x\u00B2 - 4x - 5 < 0"
- "Упрости дробь (x\u00B2-9)/(x\u00B2+6x+9) и найди значение при x = 4" (дроби + формулы сокращённого умножения 7кл)`,

  hard: `Уровень: ПОВЫШЕННЫЙ (8 класс)
Требования:
- Уравнения с параметром (комбинация дискриминанта + анализ)
- Модуль в уравнениях, комбинирование с алгебраическими дробями
- Сложные задачи: квадратичная функция + разложение многочленов (7кл) + квадратные корни
- Задания ОБЯЗАНЫ синтезировать текущие темы 8кл с материалом 7кл (одночлены, многочлены, степени, линейные функции)

Примеры заданий:
- "При каких значениях a уравнение x\u00B2 + ax + 4 = 0 имеет два различных корня?" (дискриминант + неравенство)
- "Упрости алгебраическую дробь (x\u00B2-4)/(x\u00B2-4x+4) и найди её значение при x = \u221A3 + 2" (дроби + формулы сокращённого умножения из 7кл + корни)
- "Найди наименьшее значение функции y = x\u00B2 - 6x + 10 и определи, при каком x графики y = x\u00B2 - 6x + 10 и y = 2x - 5 пересекаются" (квадратичная + линейная функция из 7кл)`,
}

const ALGEBRA_9: Record<DifficultyLevel, string> = {
  easy: `Уровень: БАЗОВЫЙ (9 класс, уровень ОГЭ часть 1)
Требования:
- Прогрессии: нахождение n-го члена + определение типа прогрессии (арифметическая/геометрическая) по данным членам + связь с суммой
- Системы уравнений второй степени: решение + обоснование выбора метода (подстановка vs сложение) + проверка
- Область определения функции: нахождение + объяснение ограничений (почему нельзя извлекать корень из отрицательного, делить на 0)
- Задания должны требовать понимания связей между понятиями, а не изолированного применения формул

Примеры заданий:
- "Дана последовательность: 3, 7, 11, 15... Определи тип прогрессии, найди d и 10-й член. Объясни, как проверить ответ, не вычисляя все члены" (определение типа + формула + обоснование проверки)
- "Реши систему x + y = 5, xy = 6. Объясни: почему удобно использовать подстановку? Проверь оба решения" (решение + выбор метода + проверка)
- "Найди область определения y = \u221A(x - 2). Объясни, почему x \u2265 2. Что произойдёт с графиком, если заменить на y = \u221A(x + 2)?" (область определения + обоснование + анализ сдвига)`,

  medium: `Уровень: СРЕДНИЙ (9 класс, уровень ОГЭ части 1-2)
Требования:
- Сумма членов прогрессии, комбинирование с нахождением элементов прогрессии
- Иррациональные уравнения с обязательной проверкой (отсев посторонних корней)
- Неравенства методом интервалов + анализ знака на каждом промежутке

Примеры заданий:
- "Найди сумму первых 20 членов арифметической прогрессии (a\u2081 = 5, d = 3). Сколько членов нужно взять, чтобы сумма превысила 500?" (сумма + обратная задача)
- "Реши \u221A(x + 3) = x - 3. Объясни, почему необходима проверка. Есть ли посторонние корни?" (решение + анализ посторонних корней)
- "Реши неравенство (x-1)(x+2)/(x-3) > 0. Покажи знаки на числовой прямой, объясни выбор знака на каждом интервале" (метод интервалов + обоснование)`,

  hard: `Уровень: ПОВЫШЕННЫЙ (9 класс)
Требования:
- Задачи на прогрессии с составлением систем уравнений
- Иррациональные уравнения с проверкой, комбинирование с квадратными уравнениями (8кл)
- Задачи ОГЭ части 2, требующие синтеза тем 7-9 классов
- Задания ОБЯЗАНЫ комбинировать: прогрессии + системы уравнений, функции + неравенства + графики, комбинаторика + уравнения

Примеры заданий:
- "Сумма трёх чисел, образующих геометрическую прогрессию, равна 21. Если к ним прибавить 1, 2 и 3, то получится арифметическая прогрессия. Найди эти числа" (обе прогрессии + система уравнений)
- "Реши уравнение \u221A(2x + 1) + \u221A(x - 1) = 3 и проверь, принадлежат ли корни области определения функции y = 1/(x\u00B2-4)" (иррациональное уравнение + дроби 8кл + область определения)
- "При каких значениях параметра a система уравнений x + y = a, xy = a + 2 имеет два положительных решения?" (параметр + система + теорема Виета 8кл)`,
}

const ALGEBRA_10: Record<DifficultyLevel, string> = {
  easy: `Уровень: БАЗОВЫЙ (10 класс, уровень ЕГЭ часть 1 базовый)
Требования:
- Тригонометрические функции: вычисление значений + объяснение через единичную окружность, связь sin/cos/tg между собой
- Простейшие тригонометрические уравнения: решение на заданном промежутке + объяснение, почему решений несколько (периодичность)
- Степенная функция: область определения + сравнение свойств при разных показателях (чётный/нечётный, положительный/отрицательный)
- Задания требуют понимания СВЯЗЕЙ: между функциями, между графиком и формулой, между свойствами

Примеры заданий:
- "Вычисли sin 30\u00B0 + cos 60\u00B0. Объясни, почему sin 30\u00B0 = cos 60\u00B0. В каких ещё случаях sin \u03B1 = cos \u03B2?" (вычисление + связь синуса и косинуса + обобщение)
- "Реши sin x = 1/2 на промежутке [0; 2\u03C0]. Сколько решений и почему? Покажи их на единичной окружности" (уравнение + анализ количества решений + визуализация)
- "Сравни области определения и графики y = x\u00B2 и y = x\u207B\u00B2. Чем они различаются? Почему у x\u207B\u00B2 нет значения при x = 0?" (сравнение + анализ свойств)`,

  medium: `Уровень: СРЕДНИЙ (10 класс)
Требования:
- Тригонометрические формулы (сложения, двойного угла)
- Тригонометрические уравнения (сводящиеся к простейшим)
- Преобразование тригонометрических выражений

Примеры заданий:
- "Упрости: sin\u00B2\u03B1 + cos\u00B2\u03B1 + tan \u03B1 \u00D7 cot \u03B1"
- "Реши уравнение: 2sin\u00B2x - 3sin x + 1 = 0"
- "Вычисли: sin 75\u00B0 (используя формулу сложения)"`,

  hard: `Уровень: ПОВЫШЕННЫЙ (10 класс)
Требования:
- Сложные тригонометрические уравнения, комбинирование с алгебраическими преобразованиями (7-9кл)
- Отбор корней на промежутке, связь с неравенствами (8-9кл)
- Задачи ЕГЭ профильного уровня, синтезирующие тригонометрию + квадратные уравнения + степени
- Задания ОБЯЗАНЫ комбинировать тригонометрию с ранее изученным: квадратные уравнения, неравенства, свойства функций

Примеры заданий:
- "Реши уравнение sin x + sin 2x + sin 3x = 0 и отбери корни на [-\u03C0; 2\u03C0]" (тригонометрия + формулы + отбор)
- "Найди все корни уравнения 2cos\u00B2x - 5cos x + 2 = 0 на [-\u03C0; \u03C0], используя замену t = cos x" (тригонометрия + квадратное уравнение 8кл + отбор)
- "Исследуй функцию y = sin\u00B2x - 2sin x на монотонность и найди экстремумы" (тригонометрия + свойства функций 9кл)`,
}

const ALGEBRA_11: Record<DifficultyLevel, string> = {
  easy: `Уровень: БАЗОВЫЙ (11 класс, уровень ЕГЭ часть 1 базовый)
Требования:
- Производная: нахождение + объяснение геометрического смысла (касательная), определение знака производной по графику функции
- Первообразная: нахождение + проверка дифференцированием + объяснение, почему ответ не единственный (+ C)
- Показательные и логарифмические выражения: вычисление + обоснование применённого свойства, связь между показательной и логарифмической функциями
- Задания требуют понимания СМЫСЛА операций, а не только формального вычисления

Примеры заданий:
- "Найди производную y = x\u00B3 - 2x + 1. Что означает f'(2) геометрически? В каких точках f'(x) = 0 и что это значит для графика?" (производная + геометрический смысл + анализ)
- "Найди первообразную f(x) = 3x\u00B2 и проверь дифференцированием. Почему у первообразной есть + C? Какая первообразная проходит через точку (1; 5)?" (первообразная + проверка + начальное условие)
- "Вычисли log\u2082 8 + log\u2083 27. Какие свойства логарифмов ты использовал? Верно ли, что log\u2082 8 + log\u2083 27 = log\u2086 216?" (вычисление + обоснование + анализ ошибки)`,

  medium: `Уровень: СРЕДНИЙ (11 класс)
Требования:
- Производная сложной функции
- Показательные и логарифмические уравнения
- Применение производной (касательная, экстремумы)

Примеры заданий:
- "Найди производную: y = sin(2x + 1)"
- "Реши уравнение: 3^(x+1) = 27"
- "Найди точки экстремума функции y = x\u00B3 - 3x"`,

  hard: `Уровень: ПОВЫШЕННЫЙ (11 класс)
Требования:
- Сложные показательные/логарифмические уравнения с комбинацией методов (замена, логарифмирование + квадратное уравнение)
- Исследование функции с помощью производной, комбинирование с тригонометрией (10кл) и алгеброй (8-9кл)
- Задачи ЕГЭ профильного уровня (\u2116 12, 14, 18), требующие синтеза всего курса 7-11кл
- Задания ОБЯЗАНЫ использовать материал предыдущих классов: тригонометрию, квадратные уравнения, прогрессии, неравенства

Примеры заданий:
- "Реши уравнение log\u2082(x+1) + log\u2082(x+4) = log\u2082(x+16) и проверь, что корни удовлетворяют ОДЗ" (логарифмы + квадратное уравнение 8кл + ОДЗ 9кл)
- "Найди наибольшее значение y = x\u00B3 - 6x\u00B2 + 9x + 2 на [0; 4] и определи промежутки убывания" (производная + полное исследование функции 9кл)
- "Реши систему: log\u2083(x) + log\u2083(y) = 2, x\u00B2 + y\u00B2 = 10" (логарифмы + система уравнений 9кл + свойства степеней)`,
}

export function getAlgebraDifficultyPrompt(grade: number, level: DifficultyLevel): string {
  switch (grade) {
    case 7: return ALGEBRA_7[level]
    case 8: return ALGEBRA_8[level]
    case 9: return ALGEBRA_9[level]
    case 10: return ALGEBRA_10[level]
    case 11: return ALGEBRA_11[level]
    default: return ALGEBRA_7[level]
  }
}
