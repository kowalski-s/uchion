import type { GradeTierConfig } from '../../types.js'

export const russianGradeTiers: GradeTierConfig[] = [
  // Tier 1: 1-4 класс — базовые навыки, правописание
  {
    grades: [1, 4],
    cognitiveContract: '',
    exampleTask: '',
  },

  // Tier 2: 5-6 класс — сравнение и классификация
  {
    grades: [5, 6],
    cognitiveContract: `ЗАПРЕЩЁННЫЕ ПАТТЕРНЫ (уровень 1-4 класса — слишком просто):
\u274C "Определи часть речи слова X" без объяснения \u2192 ЗАМЕНИ на "Классифицируй слова по частям речи и объясни, по каким признакам ты определил каждую"
\u274C "Вставь пропущенную букву" без обоснования \u2192 ЗАМЕНИ на "Вставь и объясни правило, которое применил"
\u274C "Найди подлежащее" \u2192 ЗАМЕНИ на "Сравни два предложения: где подлежащее выражено по-разному? Объясни"
\u274C Задания с одним действием без размышления \u2192 ЗАМЕНИ на задания со сравнением, классификацией или объяснением

ОБЯЗАТЕЛЬНЫЕ ЭЛЕМЕНТЫ В КАЖДОМ ЗАДАНИИ (минимум один):
\u2713 СРАВНЕНИЕ: "сравни", "чем отличается", "что общего"
\u2713 КЛАССИФИКАЦИЯ: "распредели по группам", "определи тип каждого и объясни"
\u2713 ОБОСНОВАНИЕ: "объясни почему", "докажи что", "как ты определил"
\u2713 ПРОВЕРКА: "проверь результат", "верно ли утверждение"`,

    exampleTask: `Тема "Спряжение глаголов", 5 класс, open_question:
"Распредели глаголы по спряжениям: строить, писать, смотреть, читать, дышать, бежать. Объясни, как ты определил спряжение каждого. Какие из них являются исключениями и почему?"
(классификация + обоснование + выявление исключений)`,
  },

  // Tier 3: 7-8 класс — анализ и связи
  {
    grades: [7, 8],
    cognitiveContract: `ЗАПРЕЩЁННЫЕ ПАТТЕРНЫ (уровень 5-6 класса — слишком просто):
\u274C "Определи тип/вид [X]" по одному примеру \u2192 ЗАМЕНИ на "Определи тип, объясни по каким признакам, приведи контрпример"
\u274C "Образуй / Запиши форму" \u2192 ЗАМЕНИ на "Образуй и объясни, какие свойства сохранились, какие изменились"
\u274C "Найди [X]" без анализа \u2192 ЗАМЕНИ на "Найди, объясни метод, проверь результат"
\u274C Соотнесение по одному слову \u2192 ЗАМЕНИ на соотнесение с объяснением или с контекстом из 2-3 предложений

ОБЯЗАТЕЛЬНЫЕ ЭЛЕМЕНТЫ В КАЖДОМ ЗАДАНИИ (минимум один):
\u2713 АНАЛИЗ: "объясни почему", "в чём причина", "как связаны"
\u2713 СВЯЗИ: "используя знания о [тема из прошлого]", "как это связано с"
\u2713 ВЕРИФИКАЦИЯ: "проверь", "найди ошибку", "верно ли утверждение и почему"
\u2713 СРАВНЕНИЕ МЕТОДОВ: "разбери двумя способами", "какой способ эффективнее"`,

    exampleTask: `Тема "Причастный оборот", 7 класс, open_question:
"Прочитай предложения: 1) 'Книга, лежавшая на столе, была раскрыта.' 2) 'Лежавшая на столе книга была раскрыта.' Объясни, почему в первом предложении оборот обособляется, а во втором — нет. Сформулируй правило. Составь своё предложение, где причастный оборот стоит перед определяемым словом, но обособляется (подсказка: когда это возможно?)."
(анализ + формулировка правила + сложный случай)`,
  },

  // Tier 4: 9-11 класс — синтез, оценка, аргументация
  {
    grades: [9, 11],
    cognitiveContract: `ЗАПРЕЩЁННЫЕ ПАТТЕРНЫ (уровень 5-6 класса — КАТЕГОРИЧЕСКИ НЕ ДОПУСТИМЫ):
\u274C "Определи тип/вид [X]" по одному предложению/примеру \u2192 ЗАМЕНИ на анализ текста из 3-5 предложений с обоснованием и указанием языковых маркеров
\u274C "Соотнеси [X] и [Y]" по одному слову/примеру \u2192 ЗАМЕНИ на соотнесение на основе текстовых фрагментов с объяснением
\u274C "Как называется..." / "Что такое..." \u2192 ЗАМЕНИ на "Сравни два явления, объясни различия на конкретных примерах"
\u274C "Какой [X] используется в..." \u2192 ЗАМЕНИ на "Проанализируй фрагмент: какие [X] используются, как взаимодействуют, какова роль каждого"
\u274C Вставь пропущенное слово без контекста \u2192 ЗАМЕНИ на работу с текстом, где нужно вставить И обосновать выбор
\u274C Любое задание с однословным ответом без аргументации \u2192 ЗАМЕНИ на задание, требующее объяснения или работы с контекстом

САМОПРОВЕРКА — ВЫПОЛНИ ДЛЯ КАЖДОГО ЗАДАНИЯ:
Прочитай задание и спроси себя: "Мог бы ученик 6 класса решить это задание?"
Если ДА — задание слишком простое. Переделай его, добавив:
- работу с развёрнутым контекстом (текст, задача в несколько шагов)
- требование обосновать/аргументировать ответ
- связь с другими темами или разделами предмета

ОБЯЗАТЕЛЬНЫЕ ЭЛЕМЕНТЫ В КАЖДОМ ЗАДАНИИ (минимум один):
\u2713 КОНТЕКСТ: задание работает с текстом/фрагментом/ситуацией, а НЕ с изолированным примером
\u2713 АРГУМЕНТАЦИЯ: "обоснуй", "докажи", "объясни выбор", "приведи аргументы"
\u2713 СИНТЕЗ: комбинирование текущей темы с ранее изученным (пунктуация + орфография, синтаксис + морфология, и т.д.)
\u2713 ОЦЕНКА: "верно ли", "найди ошибку в рассуждении", "оцени правильность"`,

    exampleTask: `Тема "Типы речи", 9 класс, open_question:
"Прочитай фрагмент: \u00abЛес стоял тёмный и молчаливый. Огромные ели, покрытые снегом, казались великанами в белых шубах. Между ними вилась узкая тропинка, уходившая в глубину чащи. Почему зимний лес вызывает у нас чувство торжественного покоя? Может быть, потому что в этой тишине мы слышим голос самой природы.\u00bb Определи, какие типы речи использованы в этом фрагменте. Укажи границы каждого типа. Назови языковые маркеры, по которым ты определил тип речи (тематическая лексика, типы предложений, средства связи). Перепиши последние два предложения так, чтобы весь фрагмент стал чистым описанием."
(анализ текста + определение границ + языковые маркеры + трансформация)`,

    examContext: `ПРИВЯЗКА К ЭКЗАМЕНУ:
Для 9 класса: задания должны соответствовать уровню ОГЭ, а НЕ уровню контрольной работы за 6 класс.
Для 10-11 класса: задания должны соответствовать уровню ЕГЭ, а НЕ уровню школьного теста за средние классы.`,
  },
]

export function getRussianGradeTier(grade: number): GradeTierConfig | null {
  return russianGradeTiers.find(t => grade >= t.grades[0] && grade <= t.grades[1]) ?? null
}
