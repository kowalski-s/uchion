import type { SubjectPromptConfig, DifficultyLevel } from '../../types.js'

function contentRequirements(grade: number, level: DifficultyLevel): string {
  if (grade <= 4) {
    return `
СОДЕРЖАНИЕ ЗАДАНИЙ (математика, ${grade} класс):
- Задания должны содержать конкретные числа и примеры
- Текстовые задачи — на реальные жизненные ситуации (магазин, школа, семья)`
  }
  return `
СОДЕРЖАНИЕ ЗАДАНИЙ (математика, ${grade} класс):
- Каждое задание содержит конкретные числа, выражения или задачную ситуацию
- Текстовые задачи — на реальные ситуации с осмысленным контекстом
- Для тестов: дистракторы отражают ТИПИЧНЫЕ ОШИБКИ учеников (неправильный знак, ошибка в порядке действий)`
}

export const mathPromptConfig: SubjectPromptConfig = {
  systemPrompt: `ПРЕДМЕТ: Математика (1-6 класс)

Особенности:
- Все вычисления должны быть корректными и проверяемыми
- Числа соответствуют уровню класса
- Текстовые задачи на реальные жизненные ситуации
- Ответы - конкретные числа или выражения
- Никаких отрицательных чисел до 6 класса
- Никаких дробей до 4 класса`,

  contentRequirements,

  diversityHints: `
Для математических предметов обязательно включи:
\u2022 Задания на знание ФОРМУЛ (запиши формулу, выбери правильную формулу)
\u2022 Задания на ПОНИМАНИЕ (что изменится если..., верно ли что..., объясни)
\u2022 Задания на ВЫЧИСЛЕНИЕ (реши, найди, вычисли)
\u2022 Задания на АНАЛИЗ (найди ошибку, сравни способы решения, верно ли утверждение)`,
}
